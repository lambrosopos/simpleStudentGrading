{% extends 'base.html' %}

{% block head %}
{% endblock %}

{% block page_title %}
<h1 class="display-4">View Reports</h1>
{% endblock %}

{% block body %}
<form action='/' method='POST'>
  <div class="form-group">
    <label for="selectUser">Select User</label>
    <select name='user' class="form-control">
      {% for user in users %}
      <option value={{user.username}}>{{user.username}}({{user.email}})</option>
      {% endfor %}
    </select>
  </div>
  <button type="submit" class="btn btn-primary">Search</button>
</form>
{% if scores %}
<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Subject</th>
      <th scope="col">Score</th>
      <th scope="col">Date Added</th>
    </tr>
  </thead>
  <tbody>
    {% for score in scores %}
      <tr>
        <th scope="row">{{loop.index}}</th>
        <td>{{score.subject.subject}}</td>
        <td>{{score.score}}</td>
        <td>{{score.date_created.strftime('%H:%M (%Y-%m-%d)')}}</td>
    {% endfor %}
  </tbody>
</table>
{% endif %}
{% endblock %}

